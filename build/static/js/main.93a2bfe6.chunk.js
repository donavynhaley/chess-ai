(this["webpackJsonpchess-ai"]=this["webpackJsonpchess-ai"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},143:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(9),s=n.n(r),o=(n(100),n(101),n(14)),i=n(178),l=n(186),d=n(187),u=n(181),j=n(184),b=n(2),h=Object(i.a)((function(e){return{button:{display:"block",marginTop:e.spacing(2),color:"white"},formControl:{margin:e.spacing(1),minWidth:120},select:{color:"white",minWidth:120}}})),p=function(e){var t=e.selected,n=e.setSelected,a=e.allOptions,r=e.title,s=Object(c.useState)(!1),i=Object(o.a)(s,2),p=i[0],f=i[1],m=h();return Object(b.jsx)("div",{className:"select-bot-container",children:Object(b.jsx)(u.a,{className:m.formControl,children:Object(b.jsxs)("div",{children:[Object(b.jsx)(l.a,{className:m.select,id:"select-label",children:r}),Object(b.jsx)(j.a,{labelId:"select-label",id:"open-select",open:p,onClose:function(){f(!1)},onOpen:function(){f(!0)},value:t,onChange:function(e){n(e.target.value)},className:m.select,children:a&&a.map((function(e,t){return"string"==typeof e||"number"==typeof e?Object(b.jsx)(d.a,{value:e,children:e},t):Object(b.jsx)(d.a,{value:e.fen,children:e.name},t)}))})]})})})},f=function(e){var t=e.selectedBot,n=e.setSelectedBot,c=e.allBots,a=e.selectedPos,r=e.setSelectedPos,s=e.allStartingPositions,o=e.depth,i=e.setDepth,l=e.allDepth;return Object(b.jsxs)("div",{className:"navbar",children:[Object(b.jsx)("h1",{children:"Chess AI"}),Object(b.jsxs)("div",{className:"selections",children:[Object(b.jsx)(p,{selected:t,setSelected:n,allOptions:c,title:"Select Bot"}),Object(b.jsx)(p,{selected:a,setSelected:r,allOptions:s,title:"Starting Position"}),Object(b.jsx)(p,{selected:o,setSelected:i,allOptions:l,title:"Algorithim Depth"})]})]})},m=n(72),v=n(82),O=n.n(v),x=n(63),P=n.n(x),g=function(e){var t=e.movesHistory,n=0,c=t.map((function(e){return n++,Object(b.jsxs)("li",{className:"node",children:[n,". ",e.playerMove," ",e.computerMove]})}));return Object(b.jsxs)("div",{className:"move-history",children:[Object(b.jsx)("h2",{children:"Move History"}),Object(b.jsx)("ul",{className:"move-list",children:c})]})},S=n(183),N=n(83),M=n.n(N),B=function(e){var t=e.data;return Object(b.jsx)("div",{id:"treeWrapper",children:Object(b.jsx)(M.a,{data:t,depthFactor:1e3,initialDepth:2,rootNodeClassName:"node__root",branchNodeClassName:"node__branch",leafNodeClassName:"node__leaf"})})},k=n(185),C=function(e){var t=e.onClick,n=e.text;return Object(b.jsx)("button",{className:"btn dark",onClick:t,children:n})},w=function e(t){var n=t.openModal,c=t.setOpenModal,a=t.title,r=t.desc,s=t.onClick,o=t.buttonText,i=Object(b.jsxs)("div",{className:"simple-modal-content",children:[Object(b.jsx)("h2",{className:"simple-modal-title",children:a}),Object(b.jsx)("div",{className:"simple-modal-description",children:r}),Object(b.jsx)(C,{onClick:s,text:o}),Object(b.jsx)(e,{})]});return Object(b.jsx)("div",{class:"modal-container",children:Object(b.jsx)(k.a,{open:n,onClose:function(){c(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:i})})},y=function(e){var t=e.selectedBot,n=e.randomBotAvaliableMoves,a=e.allBots,r=e.evalCount,s=e.treeData,i=Object(c.useState)(!1),l=Object(o.a)(i,2),d=l[0],u=l[1],j=function(){u(!1)},h=function(){console.log("opens"),u(!0)};return Object(b.jsxs)("div",{className:"data-visualization",children:[Object(b.jsx)("h2",{children:"Data Visualization"}),a[0]===t?function(){var e=n.map((function(e){return Object(b.jsx)("li",{children:e})}));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:"Selecting random from avaliable moves"}),Object(b.jsx)("ul",{className:"avaliable-moves",children:e&&e})]})}():null,a[1]===t||a[2]===t?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(w,{openModal:d,setOpenModal:u,title:"Tree",desc:Object(b.jsx)(B,{data:s}),onClick:j,buttonText:"Close Modal"}),Object(b.jsx)("p",{children:"Postions Evaluated: ".concat(r.toLocaleString())}),Object(b.jsx)(S.a,{variant:"outlined",color:"secondary",onClick:h,children:"See Tree"})]}):null]})},D=function(e,t,n,c){setTimeout((function(){var a=e.moves();if(n(a),a.length>0){var r=a[Math.floor(Math.random()*a.length)];e.move(r),t(r),c(e.fen())}}),300)},q=n(69),R=n.n(q),_=n(84),K=new Map;K.p=128,K.n=781,K.b=825,K.r=1276,K.q=2538,K.k=9999,K.P=-128,K.N=-781,K.B=-825,K.R=-1276,K.Q=-2538,K.K=-9999;var Q=function(e){for(var t=0,n=0;n<e.length&&" "!==e.charAt(n);n++)void 0!==K[e.charAt(n)]&&(t+=K[e.charAt(n)]);return t},T=function e(t,n,c,a){if(0===n)return[null,Q(t.fen())];var r=t.moves(),s=r[Math.floor(Math.random()*r.length)];if(a){for(var o=-1/0,i=0;i<r.length;i++){t.move(r[i]),c[n-1].push({score:Q(t.fen()),move:r[i],currentMove:i,totalMoves:r.length-1,isMax:!0});var l=e(t,n-1,c,!1)[1];t.undo(),l>o&&(o=l,s=r[i])}return[s,o]}for(var d=1/0,u=0;u<r.length;u++){t.move(r[u]),c[n-1].push({score:Q(t.fen()),move:r[u],currentMove:u,totalMoves:r.length-1,isMax:!0});var j=e(t,n-1,c,!0)[1];t.undo(),j<d&&(d=j,s=r[u])}return[s,d]},F=function(){var e=Object(_.a)(R.a.mark((function e(t,n,c,a){var r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t,n,c,a);case 2:return r=e.sent,e.abrupt("return",r[0]);case 4:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}(),A=function(e,t,n,c,a,r){var s=[[],[],[]],o={name:"Start",attributes:{score:Q(e.fen())},children:[]},i=new P.a(e.fen());F(i,r,s,!0).then((function(i){e.move(i),console.log(s);var l=s.map((function(e){return e.length}));c(l.reduce((function(e,t){return e+t}),0)),a(function(e,t,n){var c=n-1;if(c<0)return t;for(var a=0;a<e[c].length;a++)t.children.push({name:e[c][a].move,attributes:{score:e[c][a].score},children:[]});if((c-=1)<0)return t;for(var r=0,s=0;s<e[c].length;s++)t.children[r].children.push({name:e[c][s].move,attributes:{score:e[c][s].score},children:[]}),e[c][s].currentMove===e[c][s].totalMoves&&(r+=1);r=0;var o=0;if((c-=1)<0)return t;for(var i=0;i<e[c].length;i++)t.children[o].children[r].children.push({name:e[c][i].move,attributes:{score:e[c][i].score},children:[]}),e[c][i].currentMove===e[c][i].totalMoves&&(r+=1)>=t.children[o].children.length&&(o+=1,r=0);return t}(s,o,r)),t(i),n(e.fen())}))},E="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",I=["Random","MiniMax","AlphaBeta","Stockfish"],W=[{name:"Start",fen:E},{name:"Caro-Kann Defense",fen:"rnbqkbnr/pp1ppppp/2p5/8/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 1"},{name:"Pirc Defense",fen:"rnbqkbnr/ppp1pppp/3p4/8/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 1"},{name:"Sicilian Defense",fen:"rnbqkbnr/pp1ppppp/8/2p5/4P3/8/PPPP1PPP/RNBQKBNR w KQkq c6 0 1"},{name:"French Defense",fen:"rnbqkbnr/pppp1ppp/4p3/8/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 1"}],H=[1,2,3];var L=function(){var e=Object(c.useState)(new P.a(E)),t=Object(o.a)(e,1)[0],n=Object(c.useState)(t.fen()),a=Object(o.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)([]),l=Object(o.a)(i,2),d=l[0],u=l[1],j=Object(c.useState)(I[1]),h=Object(o.a)(j,2),p=h[0],v=h[1],x=Object(c.useState)(W[0].fen),S=Object(o.a)(x,2),N=S[0],M=S[1],B=Object(c.useState)(0),k=Object(o.a)(B,2),C=k[0],q=k[1],R=Object(c.useState)(""),_=Object(o.a)(R,2),K=_[0],Q=_[1],T=Object(c.useState)([]),F=Object(o.a)(T,2),L=F[0],z=F[1],J=Object(c.useState)({}),G=Object(o.a)(J,2),U=G[0],V=G[1],X=Object(c.useState)(460),Y=Object(o.a)(X,2),Z=Y[0],$=Y[1],ee=Object(c.useState)(!1),te=Object(o.a)(ee,2),ne=te[0],ce=te[1],ae=Object(c.useState)(H[1]),re=Object(o.a)(ae,2),se=re[0],oe=re[1],ie=Object(c.useRef)(null);Object(c.useEffect)((function(){console.log(ie.current.offsetWidth),$(ie.current.offsetWidth)}),[]),Object(c.useEffect)((function(){ue()}),[N]),Object(c.useEffect)((function(){t.game_over()&&je()}));var le=function(e){var t=d[d.length-1],n=Object(m.a)(Object(m.a)({},t),{},{computerMove:e});d[d.length-1]=n},de=function(e){t.move(e)&&(!function(e){var n,c=d,a=t.get(e.to).type.toUpperCase();n="P"===a?{playerMove:"".concat(e.to)}:{playerMove:"".concat(a).concat(e.to)},c.push(n),u(c)}(e),s(t.fen()),p===I[0]?D(t,le,z,s):p===I[1]&&A(t,le,s,q,V,se))},ue=function(){s(N),t.load(N),u([]),ce(!1)},je=function(){t.in_checkmate()&&Q("Checkmate"),t.in_draw()&&Q("Draw"),t.in_stalemate()&&Q("Stalemate"),t.in_threefold_repetition()&&Q("Threefold Repetition"),t.insufficient_material()&&Q("Insufficient Material"),ce(!0)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(f,{selectedBot:p,setSelectedBot:v,allBots:I,selectedPos:N,setSelectedPos:M,allStartingPositions:W,depth:se,setDepth:oe,allDepth:H}),Object(b.jsxs)("div",{className:"app-container",children:[Object(b.jsx)(w,{openModal:ne,setOpenModal:ce,title:"Game Over",desc:"The game ended with a ".concat(K),onClick:ue,buttonText:"Play Again?"}),Object(b.jsx)("div",{className:"chess-container",children:Object(b.jsx)("div",{ref:ie,className:"chessboard-container",children:Object(b.jsx)(O.a,{width:Z,position:r,onDrop:function(e){return de({from:e.sourceSquare,to:e.targetSquare,promotion:"q"})}})})}),Object(b.jsxs)("div",{className:"utility-container",children:[Object(b.jsx)(g,{movesHistory:d}),Object(b.jsx)(y,{selectedBot:p,randomBotAvaliableMoves:L,allBots:I,evalCount:C,treeData:U})]})]})]})},z=n(11);var J=function(){return z.c,z.a,Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(f,{}),Object(b.jsx)("div",{className:"app-container",children:Object(b.jsx)(L,{})})]})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,189)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},U=n(68);s.a.render(Object(b.jsx)(U.a,{children:Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(J,{})})}),document.getElementById("root")),G()}},[[143,1,2]]]);
//# sourceMappingURL=main.93a2bfe6.chunk.js.map